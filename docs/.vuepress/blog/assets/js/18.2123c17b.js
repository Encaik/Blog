(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{521:function(t,s,a){"use strict";a.r(s);var n=a(20),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"学习使用egg-js搭建后端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#学习使用egg-js搭建后端"}},[t._v("#")]),t._v(" 学习使用Egg.js搭建后端")]),t._v(" "),a("h2",{attrs:{id:"介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),a("ul",[a("li",[t._v("提供基于 Egg 定制上层框架的能力")]),t._v(" "),a("li",[t._v("高度可扩展的插件机制")]),t._v(" "),a("li",[t._v("内置多进程管理")]),t._v(" "),a("li",[t._v("基于 Koa 开发，性能优异")]),t._v(" "),a("li",[t._v("框架稳定，测试覆盖率高")]),t._v(" "),a("li",[t._v("渐进式开发")])]),t._v(" "),a("h2",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),a("h3",{attrs:{id:"脚手架"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#脚手架"}},[t._v("#")]),t._v(" 脚手架")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" egg-example "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" egg-example\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" init egg --type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("simple\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i\n")])])]),a("h2",{attrs:{id:"使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),a("h3",{attrs:{id:"目录结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目录结构"}},[t._v("#")]),t._v(" 目录结构")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("egg-project\n├── package.json\n├── app.js "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("可选"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n├── agent.js "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("可选"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n├── app\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   ├── router.js\n│   ├── controller\n│   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   └── home.js\n│   ├── "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("可选"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n│   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   └── user.js\n│   ├── middleware "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("可选"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n│   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   └── response_time.js\n│   ├── schedule "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("可选"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n│   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   └── my_task.js\n│   ├── public "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("可选"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n│   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   └── reset.css\n│   ├── view "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("可选"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n│   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   └── home.tpl\n│   └── extend "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("可选"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n│       ├── helper.js "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("可选"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n│       ├── request.js "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("可选"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n│       ├── response.js "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("可选"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n│       ├── context.js "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("可选"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n│       ├── application.js "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("可选"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n│       └── agent.js "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("可选"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n├── config\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   ├── plugin.js\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   ├── config.default.js\n│   ├── config.prod.js\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   ├── config.test.js "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("可选"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   ├── config.local.js "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("可选"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   └── config.unittest.js "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("可选"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n└── "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v("\n    ├── middleware\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   └── response_time.test.js\n    └── controller\n        └── home.test.js\n")])])]),a("p",[t._v("如上，由框架约定的目录：")]),t._v(" "),a("p",[t._v("app/router.js 用于配置 URL 路由规则，具体参见 Router。")]),t._v(" "),a("p",[t._v("app/controller/** 用于解析用户的输入，处理后返回相应的结果，具体参见 Controller。")]),t._v(" "),a("p",[t._v("app/service/** 用于编写业务逻辑层，可选，建议使用，具体参见 Service。")]),t._v(" "),a("p",[t._v("app/middleware/** 用于编写中间件，可选，具体参见 Middleware。")]),t._v(" "),a("p",[t._v("app/public/** 用于放置静态资源，可选，具体参见内置插件 egg-static。")]),t._v(" "),a("p",[t._v("app/extend/** 用于框架的扩展，可选，具体参见框架扩展。\nconfig/config.{env}.js 用于编写配置文件，具体参见配置。")]),t._v(" "),a("p",[t._v("config/plugin.js 用于配置需要加载的插件，具体参见插件。")]),t._v(" "),a("p",[t._v("test/** 用于单元测试，具体参见单元测试。")]),t._v(" "),a("p",[t._v("app.js 和 agent.js 用于自定义启动时的初始化工作，可选，具体参见启动自定义。关于agent.js的作用参见Agent机制。")]),t._v(" "),a("p",[t._v("由内置插件约定的目录：")]),t._v(" "),a("p",[t._v("app/public/** 用于放置静态资源，可选，具体参见内置插件 egg-static。")]),t._v(" "),a("p",[t._v("app/schedule/** 用于定时任务，可选，具体参见定时任务。")])])}),[],!1,null,null,null);s.default=e.exports}}]);