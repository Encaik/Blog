(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{517:function(s,a,e){"use strict";e.r(a);var t=e(20),r=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"docker-compose部署流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose部署流程"}},[s._v("#")]),s._v(" docker-compose部署流程")]),s._v(" "),e("h2",{attrs:{id:"初次部署"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#初次部署"}},[s._v("#")]),s._v(" 初次部署")]),s._v(" "),e("h3",{attrs:{id:"安装docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装docker"}},[s._v("#")]),s._v(" 安装docker")]),s._v(" "),e("p",[e("RouterLink",{attrs:{to:"/blog/docker.html"}},[s._v("教程")])],1),s._v(" "),e("h3",{attrs:{id:"安装docker-compose"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装docker-compose"}},[s._v("#")]),s._v(" 安装docker-compose")]),s._v(" "),e("p",[e("RouterLink",{attrs:{to:"/blog/docker-compose.html"}},[s._v("教程")])],1),s._v(" "),e("h3",{attrs:{id:"准备好项目结构文件夹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#准备好项目结构文件夹"}},[s._v("#")]),s._v(" 准备好项目结构文件夹")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("project\n  ├─install                 /* 安装包 */\n  ├─java                    /* 后端服务 */\n  │   ├─img                 /* 后端下载文件存储目录 */\n  │   ├─log                 /* 后端服务日志输出 */\n  │   └─release.jar         /* 后端服务构建包 */\n  ├─mysql                   /* mysql配置 */\n  │   ├─data                /* mysql数据库文件 */\n  │   ├─log                 /* mysql日志文件 */\n  │   └─mysql.cnf           /* mysql配置文件 */\n  ├─nginx                   /* 前端服务 */\n  │   └─html                /* 前端网站构建包 */\n  ├─redis                   /* redis配置 */\n  │   ├─data                /* redis数据库文件 */\n  │   └─redis.conf          /* redis配置文件 */\n  └─docker-compose.yml      /* docker编排配置文件 */\n")])])]),e("h3",{attrs:{id:"在当前目录运行docker-compose"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#在当前目录运行docker-compose"}},[s._v("#")]),s._v(" 在当前目录运行docker-compose")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker-compose up -d\n/* 读取docker-compose.yml启动镜像 */\n")])])]),e("h2",{attrs:{id:"更换构建包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更换构建包"}},[s._v("#")]),s._v(" 更换构建包")]),s._v(" "),e("h3",{attrs:{id:"停止docker-compose"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#停止docker-compose"}},[s._v("#")]),s._v(" 停止docker-compose")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker-compose down\n")])])]),e("h3",{attrs:{id:"强制重新构建镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#强制重新构建镜像"}},[s._v("#")]),s._v(" 强制重新构建镜像")]),s._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker-compose up -d --force-create\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);